# 环境要求
下面列出的环境要求是常规运行模式，如果要使用swoole，请参照swoole的教程。
- 系统环境：windowns/linux/mac
- php版本大于等于5.6
- Apache/Nginx

> 建议使用linux作为操作系统作为服务器，mac作为开发环境

## 开始安装
以Demo项目为例，最终输出`hello nb framework！`为安装成功。

#### 下载源码
Demo项目有三种获取安装方式,分别是`git`,`composer`,`download`；

##### 1.Git安装
```
git clone https://git.coding.net/nbcx/demo.git demo --recursive -b master
```
Git上托管的demo源码是不包含nb框架的，所以克隆的时候`--recursive`它的引用。

##### 2.Composer
推荐使用这种方式，这是目前比较流行的php管理方式
```
git clone https://git.coding.net/nbcx/demo.git demo --recursive -b master
```

##### 3.download
如果因为网络问题，上面两种方式无法获取demo，我们将打包好的源码共享在群文件里，可以加群获取。  
官方QQ交流群：1985508
> 群共享是打包好引用的源码包，不需要其它依赖，配好环境，放在服务器目录就可以运行。

通过上面任意一种方式后，此时你的服务器web根目录应该有如下大致结构：
```
/home/www/demo/                      项目根目录
├─application                        应用目录
│  ├─controller                      控制器目录
│  ├─...                         
│  ├─daos                            ORM目录
│  └─view                            视图目录
├─module                             模块目录
├─public               
│  ├─.htaccess                       
│  └─index.php                       入口文件
├─tmp                                缓存目录
├─nb                                 框架系统目录
├─config.inc.php                     框架配置目录
├─LICENSE.txt                        授权说明文件
├─README.md                          README 文件
└─server                             服务器运行命令
```
> 注意，tmp为框架的缓存目录，需要有读写的权限

#### 服务器配置
这里只讲服务器的配置，不讲服务器的安装，安装请自行百度。配置讲解包括Nginx，Apache，和IIS。
服务器的web根目录，windowns指定为`D:/www/`,其它都指定为`/home/www/`
##### 1.Nginx
配置中`server_name demo.ol.cx;`项，你可以不用修改本地host，这个域名我已经在dns服务商上绑定了`127.0.01`的IP。当然，你要自己在本地配其它host域名也是完全没影响的。
```
server {
    listen 80;
    server_name demo.ol.cx;

    index index.php;
    root D:/www/demo/public/;

    location / {
        rewrite ".+" "/index.php" last;
    }

    location ~ .*\.php {
        fastcgi_pass   127.0.0.1:9100;
        fastcgi_index index.php;
        include fastcgi.conf;
    }

    #处理静态图片和样式请求
    location ~ .*\.(svg|woff2|map|woff|ttf|ico|css|js|gif|jpg|jpeg|png|bmp|swf)$ {
        expires 90d;
    }
}
```
##### 2.Apache
需要开启Rewrite功能,开启后不需要在做其它。
demo项目下的public目录已经带有下面配置的.htaccess文件
```
Options +FollowSymlinks -Multiviews
RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ public/index.php?/$1 [L]
```

#### 测试成功


重启服务，在你的浏览器里访问'demo.ol.cx'网址，如果出现下面显示表示安装初步成功！
如果你使用的是Apache，没有配置虚拟域名，目录为二级目录，那么你的访问地址可能是这样的：`demo.ol.cx/demo`
```
hello nb framework！
```

再访问`demo.ol.cx/test`,如果是二级目录,则访问'demo.ol.cx/demo/test'，如果出现下面文字，则表示URL重写开启成功。
```
hello Rewrite Success！
```
到此，我们已经安装成了，可以进行下一个章节了。





